<protocol name="taiwins_theme">
  <copyright>
    Copyright (c) 2019 Xichen Zhou.

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
    
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    
    You should have received a copy of the GNU General Public License along
    with this program; if not, write to the Free Software Foundation, Inc.,
    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
  </copyright>
  
  <!-- global theme protocol -->
  <interface name="tw_theme" version="1">
    <description summary="the global theme protocol">
      All taiwins applications can receive this themes from server.
      The detailed theme is a tree structure with many folds. To give exactly
      draw commands(color, bottom image) seems impossible right now. I did not
      find a good way to do it right now
    </description>

    <event name="theme">
      <description summary="accepting themes">
	Server sends clients the map of a theme, clients can copy to its own struct
      </description>
      <arg name="name" type="string"/>
      <arg name="fd" type="fd"/>
      <arg name="size" type="uint"/>
    </event>

    <enum name="section">
      <!-- main sections -->
      <entry name="text" value="0"/>
      <entry name="button" value="1"/>
      <entry name="context_button" value="2"/>
      <entry name="menu_button" value="3"/>
      <entry name="option" value="4"/>
      <entry name="checkbox" value="5"/>
      <entry name="selectable" value="6"/>
      <entry name="slider" value="7"/>
      <entry name="progress" value="8"/>
      <entry name="property" value="9"/>
      <entry name="text_edit" value="10"/>
      <entry name="chart" value="11"/>
      <entry name="vertical_scroll" value="12"/>
      <entry name="horizontal_scroll" value="13"/>
      <entry name="tab" value="14"/>
      <entry name="combo_box" value="15"/>
    </enum>

    <event name="color">
      <description summary="a configuration of a color"/>
      <arg name="section" type="uint"/>
      <arg name="red" type="uint"/>
      <arg name="green" type="uint"/>
      <arg name="blue" type="uint"/>
      <arg name="alpha" type="uint"/>
    </event>

    <event name="padding">
      <arg name="padding" type="fixed"/>
    </event>

    <event name="done">
      <description summary="mark the end of a theme configuration"/>
    </event>


  </interface>

</protocol>
